# 电影世界项目架构设计文档

## 目录
- [系统架构图](#系统架构图)
- [技术架构图](#技术架构图)
- [数据库设计](#数据库设计)
- [业务流程图](#业务流程图)
- [模块关系图](#模块关系图)

---

## 系统架构图

### 整体架构（三层架构）

```mermaid
graph TB
    subgraph "客户端层 Presentation Layer"
        A1[Web浏览器]
        A2[移动浏览器]
        A3[平板浏览器]
    end
    
    subgraph "应用层 Application Layer"
        B1[Express Server]
        B2[路由控制 Router]
        B3[中间件 Middleware]
        B4[模板引擎 EJS]
        B5[业务逻辑 Business Logic]
    end
    
    subgraph "数据层 Data Layer"
        C1[MySQL数据库]
        C2[文件存储系统]
        C3[Session存储]
    end
    
    A1 --> B1
    A2 --> B1
    A3 --> B1
    
    B1 --> B2
    B2 --> B3
    B3 --> B4
    B3 --> B5
    
    B5 --> C1
    B5 --> C2
    B3 --> C3
    
    style A1 fill:#e1f5ff
    style A2 fill:#e1f5ff
    style A3 fill:#e1f5ff
    style B1 fill:#fff4e1
    style B2 fill:#fff4e1
    style B3 fill:#fff4e1
    style B4 fill:#fff4e1
    style B5 fill:#fff4e1
    style C1 fill:#e8f5e9
    style C2 fill:#e8f5e9
    style C3 fill:#e8f5e9
```

### MVC架构模式

```mermaid
graph LR
    subgraph "View 视图层"
        V1[EJS模板]
        V2[HTML/CSS/JS]
        V3[Bootstrap组件]
    end
    
    subgraph "Controller 控制器层"
        C1[路由处理]
        C2[请求验证]
        C3[响应处理]
    end
    
    subgraph "Model 模型层"
        M1[DataManager]
        M2[数据验证]
        M3[业务逻辑]
    end
    
    subgraph "Database"
        D1[(MySQL)]
    end
    
    V1 --> C1
    V2 --> C1
    V3 --> C1
    
    C1 --> C2
    C2 --> C3
    C3 --> V1
    
    C2 --> M1
    M1 --> M2
    M2 --> M3
    M3 --> D1
    
    D1 --> M3
    M3 --> C3
```

---

## 技术架构图

### 前后端交互流程

```mermaid
sequenceDiagram
    participant Browser as 浏览器
    participant Express as Express服务器
    participant Router as 路由控制器
    participant Middleware as 中间件
    participant Business as 业务逻辑
    participant Database as MySQL数据库
    
    Browser->>Express: HTTP请求
    Express->>Router: 路由分发
    Router->>Middleware: 中间件处理
    
    alt 需要认证
        Middleware->>Middleware: Session验证
        Middleware-->>Browser: 401 未授权
    else 认证通过
        Middleware->>Business: 调用业务逻辑
        Business->>Database: 数据库查询
        Database-->>Business: 返回数据
        Business->>Business: 数据处理
        Business-->>Router: 处理结果
        Router-->>Express: 渲染视图/返回JSON
        Express-->>Browser: HTTP响应
    end
```

### 技术栈层次图

```mermaid
graph TD
    subgraph "前端技术栈"
        FE1[HTML5<br/>语义化标签]
        FE2[CSS3<br/>响应式布局/动画]
        FE3[JavaScript ES6+<br/>DOM操作/事件处理]
        FE4[jQuery 3.7.1<br/>AJAX/选择器]
        FE5[Bootstrap 5.3.0<br/>组件库/网格系统]
    end
    
    subgraph "后端技术栈"
        BE1[Node.js 18+<br/>运行时环境]
        BE2[Express 4.18.2<br/>Web框架]
        BE3[EJS 3.1.9<br/>模板引擎]
        BE4[中间件<br/>body-parser/cookie-parser/session]
    end
    
    subgraph "数据存储"
        DB1[MySQL 8.0<br/>关系型数据库]
        DB2[mysql2<br/>数据库驱动]
        DB3[文件系统<br/>图片/视频存储]
    end
    
    subgraph "安全与工具"
        ST1[bcryptjs<br/>密码加密]
        ST2[Multer<br/>文件上传]
        ST3[Git<br/>版本控制]
        ST4[Nodemon<br/>热重载]
    end
    
    FE1 --> FE2
    FE2 --> FE3
    FE3 --> FE4
    FE4 --> FE5
    
    BE1 --> BE2
    BE2 --> BE3
    BE2 --> BE4
    
    DB1 --> DB2
    DB2 --> BE2
    
    ST1 --> BE2
    ST2 --> BE2
```

---

## 数据库设计

### ER图（实体关系图）

```mermaid
erDiagram
    USERS ||--o{ COMMENTS : "发表"
    USERS ||--o{ FAVORITES : "收藏"
    MOVIES ||--o{ COMMENTS : "包含"
    MOVIES ||--o{ FAVORITES : "被收藏"
    
    USERS {
        int id PK "主键，自增"
        varchar username UK "用户名，唯一"
        varchar password "加密密码"
        varchar nickname "用户昵称"
        varchar email "电子邮箱"
        varchar avatar "头像文件名"
        enum role "角色：user/admin"
        timestamp created_at "创建时间"
    }
    
    MOVIES {
        int id PK "主键，自增"
        varchar title "电影标题"
        varchar director "导演"
        int year "上映年份"
        decimal rating "评分(0-10)"
        int duration "时长(分钟)"
        varchar genre "类型/标签"
        varchar country "国家/地区"
        text description "电影简介"
        varchar poster_url "海报URL"
        varchar video_path "视频文件路径"
        enum status "状态：active/inactive"
        timestamp created_at "创建时间"
    }
    
    COMMENTS {
        int id PK "主键，自增"
        int user_id FK "用户ID"
        int movie_id FK "电影ID"
        text content "评论内容"
        int rating "评分(1-10)"
        timestamp created_at "发布时间"
    }
    
    FAVORITES {
        int user_id FK "用户ID"
        int movie_id FK "电影ID"
        timestamp created_at "收藏时间"
    }
```

### 数据表关系图

```mermaid
graph LR
    subgraph "核心表"
        U[用户表 users<br/>用户信息/权限]
        M[电影表 movies<br/>电影信息/状态]
    end
    
    subgraph "关联表"
        C[评论表 comments<br/>用户评论/评分]
        F[收藏表 favorites<br/>收藏关系]
    end
    
    U -->|1:N| C
    M -->|1:N| C
    U -->|N:M| F
    M -->|N:M| F
    
    style U fill:#bbdefb
    style M fill:#c8e6c9
    style C fill:#fff9c4
    style F fill:#ffccbc
```

### 详细表结构

#### 用户表 (users)

| 字段名 | 类型 | 长度 | 约束 | 说明 |
|--------|------|------|------|------|
| id | INT | - | PRIMARY KEY, AUTO_INCREMENT | 用户ID |
| username | VARCHAR | 50 | UNIQUE, NOT NULL | 登录账号 |
| password | VARCHAR | 255 | NOT NULL | 加密密码(bcrypt) |
| nickname | VARCHAR | 50 | NOT NULL | 用户昵称 |
| email | VARCHAR | 100 | NOT NULL | 电子邮箱 |
| avatar | VARCHAR | 255 | NULL | 头像文件名 |
| role | ENUM | - | DEFAULT 'user' | 用户角色(user/admin) |
| created_at | TIMESTAMP | - | DEFAULT CURRENT_TIMESTAMP | 注册时间 |

**索引设计：**
- PRIMARY KEY (id)
- UNIQUE KEY (username)
- INDEX (email)

#### 电影表 (movies)

| 字段名 | 类型 | 长度 | 约束 | 说明 |
|--------|------|------|------|------|
| id | INT | - | PRIMARY KEY, AUTO_INCREMENT | 电影ID |
| title | VARCHAR | 200 | NOT NULL | 电影标题 |
| director | VARCHAR | 100 | NULL | 导演 |
| year | INT | - | NULL | 上映年份 |
| rating | DECIMAL | (3,1) | NULL | 评分(0.0-10.0) |
| duration | INT | - | NULL | 时长(分钟) |
| genre | VARCHAR | 100 | NULL | 类型(动作,剧情等) |
| country | VARCHAR | 100 | NULL | 国家/地区 |
| description | TEXT | - | NULL | 电影简介 |
| poster_url | VARCHAR | 500 | NULL | 海报URL |
| video_path | VARCHAR | 255 | NULL | 视频文件路径 |
| status | ENUM | - | DEFAULT 'active' | 状态(active/inactive) |
| created_at | TIMESTAMP | - | DEFAULT CURRENT_TIMESTAMP | 创建时间 |

**索引设计：**
- PRIMARY KEY (id)
- INDEX (title)
- INDEX (genre)
- INDEX (year)
- INDEX (status)

#### 评论表 (comments)

| 字段名 | 类型 | 长度 | 约束 | 说明 |
|--------|------|------|------|------|
| id | INT | - | PRIMARY KEY, AUTO_INCREMENT | 评论ID |
| user_id | INT | - | FOREIGN KEY, NOT NULL | 用户ID |
| movie_id | INT | - | FOREIGN KEY, NOT NULL | 电影ID |
| content | TEXT | - | NOT NULL | 评论内容 |
| rating | INT | - | NULL | 评分(1-10) |
| created_at | TIMESTAMP | - | DEFAULT CURRENT_TIMESTAMP | 发布时间 |

**索引设计：**
- PRIMARY KEY (id)
- FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
- FOREIGN KEY (movie_id) REFERENCES movies(id) ON DELETE CASCADE
- INDEX (movie_id, created_at)

#### 收藏表 (favorites)

| 字段名 | 类型 | 长度 | 约束 | 说明 |
|--------|------|------|------|------|
| user_id | INT | - | FOREIGN KEY, NOT NULL | 用户ID |
| movie_id | INT | - | FOREIGN KEY, NOT NULL | 电影ID |
| created_at | TIMESTAMP | - | DEFAULT CURRENT_TIMESTAMP | 收藏时间 |

**索引设计：**
- PRIMARY KEY (user_id, movie_id)
- FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
- FOREIGN KEY (movie_id) REFERENCES movies(id) ON DELETE CASCADE
- INDEX (user_id)
- INDEX (movie_id)

---

## 业务流程图

### 用户注册流程

```mermaid
flowchart TD
    Start([用户访问注册页]) --> Input[填写注册信息]
    Input --> Validate{前端验证}
    
    Validate -->|验证失败| ShowError1[显示错误提示]
    ShowError1 --> Input
    
    Validate -->|验证通过| Submit[提交表单]
    Submit --> Backend[后端接收请求]
    Backend --> CheckUser{检查用户名<br/>是否存在}
    
    CheckUser -->|已存在| Return1[返回错误信息]
    Return1 --> ShowError2[显示用户名已存在]
    ShowError2 --> Input
    
    CheckUser -->|不存在| Encrypt[密码加密]
    Encrypt --> SaveDB[保存到数据库]
    SaveDB --> CreateSession[创建Session]
    CreateSession --> Redirect[跳转到首页]
    Redirect --> End([注册完成])
    
    style Start fill:#e1f5ff
    style End fill:#c8e6c9
    style ShowError1 fill:#ffcdd2
    style ShowError2 fill:#ffcdd2
    style CreateSession fill:#fff9c4
```

### 用户登录流程

```mermaid
flowchart TD
    Start([访问登录页]) --> Input[输入用户名密码]
    Input --> Submit[提交登录]
    Submit --> Backend[后端验证]
    Backend --> CheckUser{查询用户}
    
    CheckUser -->|不存在| Error1[返回用户不存在]
    Error1 --> ShowError[显示错误提示]
    ShowError --> Input
    
    CheckUser -->|存在| CheckPwd{验证密码}
    CheckPwd -->|错误| Error2[返回密码错误]
    Error2 --> ShowError
    
    CheckPwd -->|正确| CreateSession[创建Session]
    CreateSession --> Remember{记住我?}
    Remember -->|是| SetCookie[设置持久Cookie]
    Remember -->|否| Skip[跳过]
    SetCookie --> Success
    Skip --> Success[登录成功]
    Success --> Redirect[跳转目标页面]
    Redirect --> End([登录完成])
    
    style Start fill:#e1f5ff
    style End fill:#c8e6c9
    style ShowError fill:#ffcdd2
    style CreateSession fill:#fff9c4
```

### 电影收藏流程

```mermaid
flowchart TD
    Start([点击收藏按钮]) --> CheckLogin{是否登录?}
    
    CheckLogin -->|否| ShowTip[提示登录]
    ShowTip --> RedirectLogin[跳转登录页]
    RedirectLogin --> LoginEnd([结束])
    
    CheckLogin -->|是| SendRequest[发送AJAX请求]
    SendRequest --> Backend[后端处理]
    Backend --> CheckFav{是否已收藏?}
    
    CheckFav -->|已收藏| DeleteFav[删除收藏记录]
    DeleteFav --> UpdateDB1[更新数据库]
    UpdateDB1 --> Response1[返回取消成功]
    
    CheckFav -->|未收藏| AddFav[添加收藏记录]
    AddFav --> UpdateDB2[更新数据库]
    UpdateDB2 --> Response2[返回收藏成功]
    
    Response1 --> UpdateUI1[更新按钮状态<br/>显示空心图标]
    Response2 --> UpdateUI2[更新按钮状态<br/>显示实心图标]
    
    UpdateUI1 --> ShowToast1[显示Toast提示]
    UpdateUI2 --> ShowToast2[显示Toast提示]
    
    ShowToast1 --> End([完成])
    ShowToast2 --> End
    
    style Start fill:#e1f5ff
    style End fill:#c8e6c9
    style ShowTip fill:#fff9c4
    style ShowToast1 fill:#c8e6c9
    style ShowToast2 fill:#c8e6c9
```

### 电影评论流程

```mermaid
flowchart TD
    Start([输入评论内容]) --> Input[填写评论和评分]
    Input --> Validate{前端验证}
    
    Validate -->|内容为空| Error1[提示输入内容]
    Error1 --> Input
    
    Validate -->|验证通过| CheckLogin{是否登录?}
    CheckLogin -->|否| Tip[提示登录]
    Tip --> RedirectLogin([跳转登录])
    
    CheckLogin -->|是| Submit[提交评论]
    Submit --> Backend[后端处理]
    Backend --> SaveComment[保存到数据库]
    SaveComment --> GetUserInfo[获取用户信息]
    GetUserInfo --> Response[返回评论数据]
    Response --> UpdateUI[添加到评论列表]
    UpdateUI --> ClearForm[清空表单]
    ClearForm --> ShowSuccess[显示成功提示]
    ShowSuccess --> End([完成])
    
    style Start fill:#e1f5ff
    style End fill:#c8e6c9
    style Error1 fill:#ffcdd2
    style ShowSuccess fill:#c8e6c9
```

### 管理员添加电影流程

```mermaid
flowchart TD
    Start([点击添加电影]) --> Modal[打开模态框]
    Modal --> FillInfo[填写电影信息]
    FillInfo --> Upload{上传文件?}
    
    Upload -->|上传海报| UploadPoster[上传海报图片]
    Upload -->|上传视频| UploadVideo[上传视频文件]
    Upload -->|跳过| Submit
    
    UploadPoster --> Submit[提交表单]
    UploadVideo --> Submit
    
    Submit --> Backend[后端处理]
    Backend --> ValidateData{验证数据}
    
    ValidateData -->|失败| Error[返回错误信息]
    Error --> ShowError[显示错误提示]
    ShowError --> FillInfo
    
    ValidateData -->|成功| SaveFile[保存文件]
    SaveFile --> SaveDB[保存到数据库]
    SaveDB --> Response[返回成功]
    Response --> CloseModal[关闭模态框]
    CloseModal --> RefreshList[刷新电影列表]
    RefreshList --> ShowSuccess[显示成功提示]
    ShowSuccess --> End([完成])
    
    style Start fill:#e1f5ff
    style End fill:#c8e6c9
    style ShowError fill:#ffcdd2
    style ShowSuccess fill:#c8e6c9
```

---

## 模块关系图

### 路由模块关系

```mermaid
graph TD
    Server[server.js<br/>Express主程序] --> IndexRoute[index.js<br/>首页路由]
    Server --> MoviesRoute[movies.js<br/>电影路由]
    Server --> AuthRoute[auth.js<br/>认证路由]
    Server --> UserRoute[user.js<br/>用户路由]
    Server --> APIRoute[api.js<br/>API路由]
    Server --> AdminRoute[admin.js<br/>管理员路由]
    Server --> DebugRoute[debug.js<br/>调试路由]
    
    IndexRoute --> DataManager[dataManager.js<br/>数据管理]
    MoviesRoute --> DataManager
    AuthRoute --> DataManager
    UserRoute --> DataManager
    APIRoute --> DataManager
    AdminRoute --> DataManager
    
    AuthRoute --> AuthUtil[auth.js<br/>认证工具]
    UserRoute --> AuthUtil
    AdminRoute --> AuthUtil
    
    Server --> Middleware[中间件]
    Middleware --> Session[express-session]
    Middleware --> Cookie[cookie-parser]
    Middleware --> BodyParser[body-parser]
    Middleware --> Multer[multer文件上传]
    
    DataManager --> Database[(MySQL数据库)]
    
    style Server fill:#fff4e1
    style Database fill:#c8e6c9
    style DataManager fill:#bbdefb
    style AuthUtil fill:#f8bbd0
```

### 视图模板关系

```mermaid
graph TD
    Pages[页面模板 pages/] --> Index[index.ejs 首页]
    Pages --> Movies[movies.ejs 电影列表]
    Pages --> Detail[movie-detail.ejs 电影详情]
    Pages --> Play[play.ejs 播放页]
    Pages --> Search[search.ejs 搜索页]
    Pages --> Login[login.ejs 登录页]
    Pages --> Register[register.ejs 注册页]
    Pages --> Profile[profile.ejs 个人中心]
    Pages --> Admin[admin-dashboard.ejs 管理后台]
    Pages --> Error[error.ejs 错误页]
    
    Index --> Header[partials/header.ejs]
    Movies --> Header
    Detail --> Header
    Play --> Header
    Search --> Header
    Login --> Header
    Register --> Header
    Profile --> Header
    Admin --> Header
    Error --> Header
    
    Index --> Aside[partials/aside.ejs]
    Movies --> Aside
    Detail --> Aside
    Search --> Aside
    
    Index --> Footer[partials/footer.ejs]
    Movies --> Footer
    Detail --> Footer
    Play --> Footer
    Search --> Footer
    Login --> Footer
    Register --> Footer
    Profile --> Footer
    Admin --> Footer
    Error --> Footer
    
    style Pages fill:#fff4e1
    style Header fill:#bbdefb
    style Aside fill:#c8e6c9
    style Footer fill:#f8bbd0
```

### 文件存储结构

```mermaid
graph TD
    Public[public/ 静态资源] --> CSS[css/]
    Public --> JS[js/]
    Public --> Images[images/]
    Public --> Uploads[uploads/]
    Public --> Video[vedio/]
    
    CSS --> StyleCSS[style.css 自定义样式]
    JS --> MainJS[main.js 自定义脚本]
    
    Images --> MoviePosters[电影海报 1.jpg~13.jpg]
    Images --> DefaultImages[默认图片]
    
    Uploads --> Avatars[avatars/ 用户头像]
    Uploads --> Posters[posters/ 电影海报]
    
    Video --> VideoFiles[视频文件 *.mp4]
    
    Avatars --> AvatarFiles[avatar-{userId}-{timestamp}.jpg]
    Posters --> PosterFiles[poster-{movieId}-{timestamp}.jpg]
    VideoFiles --> MovieVideos[{movieId}.mp4/webm/ogg]
    
    style Public fill:#fff4e1
    style CSS fill:#e1f5ff
    style JS fill:#fff9c4
    style Images fill:#c8e6c9
    style Uploads fill:#ffccbc
    style Video fill:#f8bbd0
```

---

## 数据流图

### 用户请求数据流

```mermaid
flowchart LR
    User[用户] -->|HTTP请求| Express[Express服务器]
    Express -->|路由分发| Router[路由控制器]
    Router -->|Session验证| Middleware[认证中间件]
    
    Middleware -->|验证通过| Controller[业务控制器]
    Middleware -->|验证失败| Error401[401未授权]
    Error401 -->|跳转| Login[登录页]
    
    Controller -->|调用| DataManager[数据管理器]
    DataManager -->|SQL查询| MySQL[(MySQL数据库)]
    MySQL -->|返回数据| DataManager
    DataManager -->|处理数据| Controller
    
    Controller -->|渲染| EJS[EJS模板引擎]
    EJS -->|生成HTML| Express
    Express -->|HTTP响应| User
    
    style User fill:#e1f5ff
    style MySQL fill:#c8e6c9
    style Error401 fill:#ffcdd2
    style EJS fill:#fff9c4
```

### AJAX异步数据流

```mermaid
flowchart LR
    Browser[浏览器JavaScript] -->|AJAX请求| API[API路由]
    API -->|验证| Auth[认证中间件]
    
    Auth -->|通过| Logic[业务逻辑]
    Auth -->|失败| JSON401[返回401 JSON]
    
    Logic -->|查询/更新| DB[(MySQL)]
    DB -->|数据| Logic
    Logic -->|处理| Result[处理结果]
    Result -->|JSON响应| API
    API -->|返回| Browser
    
    Browser -->|更新DOM| UI[更新界面]
    Browser -->|显示| Toast[Toast提示]
    
    JSON401 -->|提示| Browser
    
    style Browser fill:#e1f5ff
    style DB fill:#c8e6c9
    style JSON401 fill:#ffcdd2
    style Toast fill:#fff9c4
    style UI fill:#c8e6c9
```

---

## 安全架构

### 安全防护体系

```mermaid
graph TD
    Input[用户输入] --> XSS[XSS防护<br/>EJS自动转义]
    Input --> SQLInjection[SQL注入防护<br/>参数化查询]
    Input --> CSRF[CSRF防护<br/>Session令牌]
    
    Password[密码处理] --> Bcrypt[bcryptjs加密<br/>不可逆加密]
    
    Session[会话管理] --> SessionStore[Session存储<br/>express-session]
    SessionStore --> Cookie[Cookie设置<br/>HttpOnly/Secure]
    
    FileUpload[文件上传] --> FileType[文件类型验证]
    FileUpload --> FileSize[文件大小限制]
    FileUpload --> FileName[文件名处理<br/>时间戳重命名]
    
    API[API接口] --> Auth[认证中间件<br/>requireAuth]
    Auth --> Permission[权限验证<br/>requireAdmin]
    
    XSS --> SafeOutput[安全输出]
    SQLInjection --> SafeQuery[安全查询]
    CSRF --> SafeAction[安全操作]
    Bcrypt --> SafeStore[安全存储]
    Cookie --> SafeSession[安全会话]
    FileName --> SafeFile[安全文件]
    Permission --> SafeAccess[安全访问]
    
    style Input fill:#fff4e1
    style Password fill:#fff4e1
    style Session fill:#fff4e1
    style FileUpload fill:#fff4e1
    style API fill:#fff4e1
    style SafeOutput fill:#c8e6c9
    style SafeQuery fill:#c8e6c9
    style SafeAction fill:#c8e6c9
    style SafeStore fill:#c8e6c9
    style SafeSession fill:#c8e6c9
    style SafeFile fill:#c8e6c9
    style SafeAccess fill:#c8e6c9
```

---

## 部署架构

### 生产环境部署架构

```mermaid
graph TB
    subgraph "负载均衡层"
        LB[Nginx负载均衡器]
    end
    
    subgraph "应用服务层"
        APP1[Node.js实例1<br/>Express服务器]
        APP2[Node.js实例2<br/>Express服务器]
        APP3[Node.js实例3<br/>Express服务器]
    end
    
    subgraph "数据存储层"
        DB[(MySQL主库)]
        DBSlave[(MySQL从库)]
        Redis[(Redis缓存)]
        FileStorage[文件存储<br/>NFS/OSS]
    end
    
    Internet[互联网用户] --> LB
    LB --> APP1
    LB --> APP2
    LB --> APP3
    
    APP1 --> DB
    APP2 --> DB
    APP3 --> DB
    
    DB --> DBSlave
    
    APP1 --> Redis
    APP2 --> Redis
    APP3 --> Redis
    
    APP1 --> FileStorage
    APP2 --> FileStorage
    APP3 --> FileStorage
    
    style Internet fill:#e1f5ff
    style LB fill:#fff4e1
    style DB fill:#c8e6c9
    style Redis fill:#ffccbc
    style FileStorage fill:#f8bbd0
```

---

## 总结

本文档详细描述了电影世界项目的各个架构层面：

1. **系统架构** - 三层架构和MVC模式
2. **技术架构** - 前后端技术栈和交互流程
3. **数据库设计** - ER图和详细表结构
4. **业务流程** - 核心业务的流程图
5. **模块关系** - 代码模块的组织关系
6. **数据流** - 请求响应的数据流转
7. **安全架构** - 完整的安全防护体系
8. **部署架构** - 生产环境部署方案

这些图表清晰地展示了项目的整体设计思路和技术实现细节，为项目的开发、维护和扩展提供了完整的参考。
